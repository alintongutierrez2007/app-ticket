(function(e){function t(t){for(var a,n,s=t[0],c=t[1],u=t[2],l=0,d=[];l<s.length;l++)n=s[l],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);m&&m(t);while(d.length)d.shift()();return i.push.apply(i,u||[]),o()}function o(){for(var e,t=0;t<i.length;t++){for(var o=i[t],a=!0,n=1;n<o.length;n++){var s=o[n];0!==r[s]&&(a=!1)}a&&(i.splice(t--,1),e=c(c.s=o[0]))}return e}var a={},n={app:0},r={app:0},i=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-24f747de":"1824388e","chunk-5f8d3fac":"5de4ff1e","chunk-6bf136d8":"794563df","chunk-096da8a0":"071b4ca9","chunk-427a0ce6":"847b3cde","chunk-4e33dc85":"f731183e","chunk-774c2b30":"064e1a66","chunk-490c54ce":"da24bb32"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var o=a[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(e){var t=[],o={"chunk-24f747de":1,"chunk-096da8a0":1,"chunk-427a0ce6":1,"chunk-4e33dc85":1};n[e]?t.push(n[e]):0!==n[e]&&o[e]&&t.push(n[e]=new Promise((function(t,o){for(var a="css/"+({}[e]||e)+"."+{"chunk-24f747de":"28c7a5e5","chunk-5f8d3fac":"31d6cfe0","chunk-6bf136d8":"31d6cfe0","chunk-096da8a0":"f06ca215","chunk-427a0ce6":"f06ca215","chunk-4e33dc85":"f5408565","chunk-774c2b30":"31d6cfe0","chunk-490c54ce":"31d6cfe0"}[e]+".css",r=c.p+a,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===r))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===a||l===r)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var a=t&&t.target&&t.target.src||r,i=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete n[e],m.parentNode.removeChild(m),o(i)},m.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(m)})).then((function(){n[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var i=new Promise((function(t,o){a=r[e]=[t,o]}));t.push(a[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(m);var o=r[e];if(0!==o){if(o){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,o[1](d)}r[e]=void 0}};var m=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(o,a,function(t){return e[t]}.bind(null,a));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var m=l;i.push([1,"chunk-vendors"]),o()})({0:function(e,t){},1:function(e,t,o){e.exports=o("56d7")},2:function(e,t){},3:function(e,t){},"56d7":function(e,t,o){"use strict";o.r(t);var a=o("2b0e"),n=o("7496"),r=o("40dc"),i=o("5bc1"),s=o("8336"),c=o("b0af"),u=o("99d9"),l=o("62ad"),d=o("a523"),m=o("169a"),f=o("132d"),h=o("8860"),p=o("56b0"),g=o("da13"),k=o("1800"),b=o("5d23"),v=o("f6c4"),y=o("f774"),_=o("8e36"),w=o("0fd9"),x=o("0789"),F=o("2fa4"),S=o("e0c7"),C=o("2a7f"),A=function(){var e=this,t=e._self._c;return t(n["a"],{staticStyle:{"background-color":"#F6F7FF"}},[1==e.logeado&&1==e.sesion?t(y["a"],{attrs:{clipped:e.$vuetify.breakpoint.lgAndUp,app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[1==e.logeado&&1==e.sesion?t(h["a"],{attrs:{dense:""}},[e._l(e.items,(function(o){return[o.heading?t(w["a"],{key:o.heading,attrs:{align:"center"}},[t(l["a"],{attrs:{cols:"6"}},[o.heading?t(S["a"],[e._v(" "+e._s(o.heading)+" ")]):e._e()],1),t(l["a"],{staticClass:"text-center",attrs:{cols:"6"}},[t("a",{staticClass:"body-2 black--text",attrs:{href:"#!"}},[e._v("EDIT")])])],1):e._e(),0!=o.protegido&&1!=e.esAdminstrador||o.children?o.children?t(p["a"],{key:o.text,attrs:{"prepend-icon":o.model?o.icon:o["icon-alt"],"append-icon":""},scopedSlots:e._u([{key:"activator",fn:function(){return[t(b["a"],[t(b["c"],[e._v(" "+e._s(o.text)+" ")])],1)]},proxy:!0}],null,!0),model:{value:o.model,callback:function(t){e.$set(o,"model",t)},expression:"item.model"}},e._l(o.children,(function(o,a){return t(g["a"],{key:a,staticClass:"ml-4",attrs:{to:{name:o.to},link:""}},[o.icon?t(k["a"],[t(f["a"],{attrs:{small:""}},[e._v(e._s(o.icon))])],1):e._e(),t(b["a"],[t(b["c"],[e._v(" "+e._s(o.text)+" ")])],1)],1)})),1):e._e():t(g["a"],{key:o.text,attrs:{to:{name:o.to},link:""}},[t(k["a"],[t(f["a"],[e._v(e._s(o.icon))])],1),t(b["a"],[t(b["c"],[e._v(" "+e._s(o.text)+" ")])],1)],1)]}))],2):e._e()],1):e._e(),t(r["a"],{attrs:{"clipped-left":e.$vuetify.breakpoint.lgAndUp,app:"",color:"opcion1",dark:""}},[t(i["a"],{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),t(C["a"],{staticClass:"ml-0 pl-4",staticStyle:{width:"300px"}},[t("span",[e._v("Disatel Tickets")]),t(f["a"],{staticClass:"ml-5"},[e._v("mdi-ticket-confirmation")])],1),t(F["a"]),null!=e.logeado?t(s["a"],{attrs:{icon:"",large:""},on:{click:function(t){return e.salir()}}},[t(f["a"],[e._v("mdi-exit-to-app")])],1):t(s["a"],{attrs:{to:{name:"login"},color:"success"}},[t(f["a"],[e._v("login")])],1)],1),t(v["a"],[t(d["a"],{staticStyle:{width:"100%"}},[t(x["e"],{attrs:{mode:"out-in"}},[t("router-view")],1),t(m["a"],{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.loading.estado,callback:function(t){e.$set(e.loading,"estado",t)},expression:"loading.estado"}},[t(c["a"],{attrs:{color:"opcion1",dark:""}},[t(u["b"],[e._v(" "+e._s(e.loading.titulo)+" "),t(_["a"],{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)],1)],1)},E=[],O=o("2f62"),P={name:"App",components:{},data:()=>({dialog:!1,drawer:null,arrayDrawer:[],items:[{icon:"mdi-home",text:"Inicio",to:"home",protegido:!1},{icon:"mdi-ticket-confirmation-outline",text:"Ticket abiertos",to:"tickets",protegido:!1},{icon:"mdi-history",text:"Historial",to:"historial",protegido:!1},{icon:"mdi-account-circle",text:" Usuarios",to:"usuarios",protegido:!0},{icon:"mdi-cog",text:"Configuraciones",to:"configuracion",protegido:!0}],sesion:!0}),computed:{...Object(O["c"])(["loading"]),logeado(){let e=localStorage.getItem("token");return e?(console.log("se detecto cambio en storage:"+this.$store.state.usuario),!0):(console.log("se detecto cambio en storage:"+this.$store.state.usuario+" ---\x3e"),!1)},esAdminstrador(){return this.$store.state.usuario&&"ADMIN"==this.$store.state.usuario.rol},esUsuarioComun(){return this.$store.state.usuario&&"USER"==this.$store.state.usuario.rol}},created(){},methods:{...Object(O["b"])(["mostrarLoading","ocultarLoading"]),salir(){this.drawer=!1,this.$store.dispatch("salir"),this.sesion=!1}},watch:{"$store.state.usuario":function(){console.log("watch cambio"),console.log(this.$store.state.usuario),null==this.$store.state.usuario?(this.sesion=!1,this.logeado=!1):this.sesion=!0}}},T=P,j=o("2877"),$=Object(j["a"])(T,A,E,!1,null,null,null),U=$.exports,I=o("8c4f"),L=(o("14d9"),o("1232"));a["default"].use(O["a"]);var D=new O["a"].Store({state:{token:null,usuario:null,loading:{titulo:"",estado:!1,color:"primary"}},mutations:{mostrarLoading(e,t){e.loading.titulo=t.titulo,e.loading.estado=!0,e.loading.color=t.color},ocultarLoading(e){e.loading.estado=!1},setToken(e,t){e.token=t},setUsuario(e,t){if(null!=t&&""!=t){let o=Object(L["a"])(t);e.usuario=o.data,localStorage.setItem("usuario",o),console.log(e.usuario)}}},actions:{guardarToken({commit:e},t){e("setUsuario",t),localStorage.setItem("token",t),e("setToken",t),M.push({name:"home"})},autoLogin({commit:e}){let t=localStorage.getItem("token");null!=t&&(e("setToken",t),e("setUsuario",t),M.push({name:"home"}))},salir({commit:e}){localStorage.removeItem("token"),e("setToken",null),e("setUsuario",null),M.push({name:"login"})}},modules:{}});a["default"].use(I["a"]);const N=[{path:"/",name:"inicio",component:()=>o.e("chunk-490c54ce").then(o.bind(null,"a55b")),meta:{libre:!0}},{path:"/login",name:"login",component:()=>o.e("chunk-490c54ce").then(o.bind(null,"a55b")),meta:{libre:!0}},{path:"/home",name:"home",component:()=>Promise.all([o.e("chunk-24f747de"),o.e("chunk-6bf136d8"),o.e("chunk-4e33dc85")]).then(o.bind(null,"bb51")),meta:{administrador:!0,usuario_comun:!0}},{path:"/tickets",name:"tickets",component:()=>Promise.all([o.e("chunk-24f747de"),o.e("chunk-6bf136d8"),o.e("chunk-096da8a0")]).then(o.bind(null,"d464")),meta:{administrador:!0,usuario_comun:!0}},{path:"/historial",name:"historial",component:()=>Promise.all([o.e("chunk-24f747de"),o.e("chunk-6bf136d8"),o.e("chunk-427a0ce6")]).then(o.bind(null,"9533")),meta:{administrador:!0,usuario_comun:!0}},{path:"/usuarios",name:"usuarios",component:()=>Promise.all([o.e("chunk-24f747de"),o.e("chunk-5f8d3fac")]).then(o.bind(null,"00f9")),meta:{administrador:!0,usuario_comun:!1}},{path:"/configuracion",name:"configuracion",component:()=>Promise.all([o.e("chunk-24f747de"),o.e("chunk-774c2b30")]).then(o.bind(null,"fd7e2")),meta:{administrador:!0,usuario_comun:!1}}],B=new I["a"]({mode:"history",base:"/",routes:N});B.beforeEach((e,t,o)=>{localStorage.getItem("token");e.matched.some(e=>e.meta.libre)?o():D.state.usuario&&"ADMIN"==D.state.usuario.rol?e.matched.some(e=>e.meta.administrador)&&o():D.state.usuario&&"USER"==D.state.usuario.rol?e.matched.some(e=>e.meta.usuario_comun)&&o():(o({name:"login"}),console.log("entro en ruta libre"))});var M=B,R=o("f309"),q=o("5e4e");a["default"].use(R["a"]);var H=new R["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#007BFF",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107",fondo:"#F6F7FF",alerta:"#ff9729",opcion1:"#30043F",opcion2:"#7B5995",opcion3:"#FFD6E4",opcion4:"#F3AC40",opcion5:"#OA1334",opcion6:"#14202E",opcion7:"#2D4356",opcion8:"#89AAC3",fondo1:"##E6E7EC"}}},lang:{locales:{es:q["a"]},current:"es"}}),J=o("cee4"),K=o("130e"),z=o("1321"),G=o.n(z),Q=o("ad24"),V=o("43f9"),W=o.n(V),X=(o("51de"),o("e094"),o("3dc6"));a["default"].use(K["a"],J["a"]),a["default"].use(G.a),a["default"].component("apexchart",G.a),a["default"].use(Q["a"]),a["default"].use(o("2ead")),a["default"].use(W.a),a["default"].use(X["a"]),J["a"].defaults.baseURL="http://137.184.73.10:3000/api/",a["default"].config.productionTip=!1,new a["default"]({router:M,store:D,vuetify:H,render:e=>e(U)}).$mount("#app")}});
//# sourceMappingURL=app.2b931eb3.js.map